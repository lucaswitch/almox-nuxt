import{n as V,r as w,q as y,o as s,c as r,a as t,b as e,w as o,d as c,F as _,y as k,u as b,t as u,A}from"./entry.a8ea04dc.js";import{a as x}from"./formatter.b9064c7a.js";import{u as C}from"./auth.cb07611c.js";import{V as g}from"./VBtn.fb6611c3.js";import{V as B}from"./VTable.c658405d.js";import{V as $,a as S,b as D}from"./VCard.73ffbd1f.js";import"./tag.19ec8209.js";import"./VImg.e08626a0.js";import"./VAvatar.28b1b839.js";const E={class:"d-flex flex-row mb-6 ga-1 pa-4"},N={class:"pa-4"},T=t("p",{class:"text-subtitle-1"}," HistÃ³rico de registros ",-1),F=t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Data "),t("th",{class:"text-right"}," Quantidade ")])],-1),q={class:"text-right"},z={key:0},H={key:1},Q=V({__name:"stock-form",props:{material_id:String},async setup(m){let i,n;const{material_id:h}=m,f=C(),p=w([]);async function L(){let l=await $fetch("/api/materials-entries",{method:"get",headers:{Authorization:`Bearer ${f.token}`},params:{id:h}});return l=l.map(function({created_at:d,updated_at:a,...v}){return d=x(d,"LLLL"),a=x(a,"LLLL"),{...v,created_at:d,updated_at:a}}),l}return p.value=([i,n]=y(()=>L()),i=await i,n(),i),(l,d)=>(s(),r(_,null,[t("div",E,[e(g,{color:"primary",href:"/dashboard/materials/"+m.material_id+"/entry/new"},{default:o(()=>[c(" Adicionar registro ")]),_:1},8,["href"]),e(g,{color:"primary",class:"ml-2",variant:"outlined",href:"/dashboard/materials"},{default:o(()=>[c(" Voltar ")]),_:1})]),t("div",N,[T,e(B,null,{default:o(()=>[F,t("tbody",null,[(s(!0),r(_,null,k(b(p),a=>(s(),r("tr",{key:a.id},[t("td",null,u(a.created_at),1),t("td",q,[a.amount>0?(s(),r("div",z," +"+u(a.amount),1)):(s(),r("div",H,u(a.amount),1))])]))),128))])]),_:1})])],64))}}),R=t("h6",{class:"text-h6"}," Adicionar entradas e saidas ",-1),j={class:"mt-4"},X=V({__name:"index",setup(m){const n=A().params.id;return(h,f)=>(s(),r(_,null,[R,e(D,{class:"mt-2 pb-3","max-width":"644"},{default:o(()=>[e($,null,{default:o(()=>[c(" Entradas ")]),_:1}),e(S,null,{default:o(()=>[c(" Adicione uma nova entrada ")]),_:1}),t("div",j,[e(Q,{material_id:b(n)},null,8,["material_id"])])]),_:1})],64))}});export{X as default};
