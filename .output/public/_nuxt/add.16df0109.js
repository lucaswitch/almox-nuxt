import{n as ie,q as ue,s as ce,u as de,v as U,r as M,x as fe,f as me,y as ve,h as A,j as he,z as pe,b as u,A as G,F as I,B as J,C as ge,D as xe,E as H,G as Ve,H as ye,I as we,_ as X,o as K,c as W,w as x,d as B,t as ke,J as be,a as Y}from"./entry.ed656c21.js";import{u as _e}from"./auth.3e11f5f3.js";import{c as Ce,m as Fe,a as Pe,u as Ee,V as Q,f as Me,b as Ae,d as Se,e as Ie,g as S,h as Te,i as Re,j as Ue,k as Be}from"./VCard.dccd0248.js";import{M as Ne,V as D,a as P,b as ze,c as Oe}from"./VSnackbar.9ac8f53e.js";import{I as je}from"./VImg.4995c958.js";import{u as Ge}from"./tag.9b81e797.js";import{V as He}from"./VBtn.0a83d323.js";import"./VAvatar.9ba6e027.js";/* empty css              */import"./scopeId.4d305432.js";import"./ssrBoot.cfba5bf6.js";import"./VDivider.46916086.js";var $={exports:{}};(function(t,f){(function(c,l){t.exports=l()})(Ce,function(){return function(c){function l(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return c[a].call(r.exports,r,r.exports,l),r.l=!0,r.exports}var e={};return l.m=c,l.c=e,l.i=function(a){return a},l.d=function(a,r,n){l.o(a,r)||Object.defineProperty(a,r,{configurable:!1,enumerable:!0,get:n})},l.n=function(a){var r=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(r,"a",r),r},l.o=function(a,r){return Object.prototype.hasOwnProperty.call(a,r)},l.p=".",l(l.s=10)}([function(c,l){c.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(c,l,e){function a(o){var s=document.createEvent("Event");return s.initEvent(o,!0,!0),s}var r=e(2),n=e(0),i=e.n(n);l.a=function(o,s){var d=s.value;if((Array.isArray(d)||typeof d=="string")&&(d={mask:d,tokens:i.a}),o.tagName.toLocaleUpperCase()!=="INPUT"){var h=o.getElementsByTagName("input");if(h.length!==1)throw new Error("v-mask directive requires 1 input, found "+h.length);o=h[0]}o.oninput=function(g){if(g.isTrusted){var p=o.selectionEnd,_=o.value[p-1];for(o.value=e.i(r.a)(o.value,d.mask,!0,d.tokens);p<o.value.length&&o.value.charAt(p-1)!==_;)p++;o===document.activeElement&&(o.setSelectionRange(p,p),setTimeout(function(){o.setSelectionRange(p,p)},0)),o.dispatchEvent(a("input"))}};var v=e.i(r.a)(o.value,d.mask,!0,d.tokens);v!==o.value&&(o.value=v,o.dispatchEvent(a("input")))}},function(c,l,e){var a=e(6),r=e(5);l.a=function(n,i){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=arguments[3];return Array.isArray(i)?e.i(r.a)(a.a,i,s)(n,i,o,s):e.i(a.a)(n,i,o,s)}},function(c,l,e){function a(h){h.component(s.a.name,s.a),h.directive("mask",i.a)}Object.defineProperty(l,"__esModule",{value:!0});var r=e(0),n=e.n(r),i=e(1),o=e(7),s=e.n(o);e.d(l,"TheMask",function(){return s.a}),e.d(l,"mask",function(){return i.a}),e.d(l,"tokens",function(){return n.a}),e.d(l,"version",function(){return d});var d="0.11.1";l.default=a,typeof window<"u"&&window.Vue&&window.Vue.use(a)},function(c,l,e){Object.defineProperty(l,"__esModule",{value:!0});var a=e(1),r=e(0),n=e.n(r),i=e(2);l.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return n.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(o){o!==this.lastValue&&(this.display=o)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(o){o.isTrusted||this.refresh(o.target.value)},refresh:function(s){this.display=s;var s=e.i(i.a)(s,this.mask,this.masked,this.tokens);s!==this.lastValue&&(this.lastValue=s,this.$emit("input",s))}}}},function(c,l,e){function a(r,n,i){return n=n.sort(function(o,s){return o.length-s.length}),function(o,s){for(var d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=0;h<n.length;){var v=n[h];h++;var g=n[h];if(!(g&&r(o,g,!0,i).length>v.length))return r(o,v,d,i)}return""}}l.a=a},function(c,l,e){function a(r,n){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=arguments[3];r=r||"",n=n||"";for(var s=0,d=0,h="";s<n.length&&d<r.length;){var v=n[s],g=o[v],p=r[d];g&&!g.escape?(g.pattern.test(p)&&(h+=g.transform?g.transform(p):p,s++),d++):(g&&g.escape&&(s++,v=n[s]),i&&(h+=v),p===v&&d++,s++)}for(var _="";s<n.length&&i;){var v=n[s];if(o[v]){_="";break}_+=v,s++}return h+_}l.a=a},function(c,l,e){var a=e(8)(e(4),e(9),null,null);c.exports=a.exports},function(c,l){c.exports=function(e,a,r,n){var i,o=e=e||{},s=typeof e.default;s!=="object"&&s!=="function"||(i=e,o=e.default);var d=typeof o=="function"?o.options:o;if(a&&(d.render=a.render,d.staticRenderFns=a.staticRenderFns),r&&(d._scopeId=r),n){var h=d.computed||(d.computed={});Object.keys(n).forEach(function(v){var g=n[v];h[v]=function(){return g}})}return{esModule:i,exports:o,options:d}}},function(c,l){c.exports={render:function(){var e=this,a=e.$createElement;return(e._self._c||a)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(c,l,e){c.exports=e(3)}])})})($);var De=$.exports;const qe={setup(){return{auth:_e()}},data(){return{default_units:["Mililitros","Litros","Miligramas","Gramas","Quilos"],name:"",formula:"",concentration:"",weight:"",brand:"",metric:"",note:"",errors:{},created:null}},directives:{mask:De.mask},methods:{async validate(t){this.errors={};try{return await Ne.validate(t),!0}catch(f){return this.errors[f.path]=f.message,!1}},async add(){const t={name:this.name,formula:this.formula,concentration:this.concentration,weight:this.weight,brand:this.brand,metric:this.metric,note:this.note};if(await this.validate(t))try{this.created=await $fetch("/api/materials",{method:"post",body:t,headers:{Authorization:`Bearer ${this.auth.token}`}}),ie("/dashboard/materials")}catch(c){console.error(c)}}}};const Le=ue({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...Fe(),...Pe()},"VTextarea"),Ze=ce()({name:"VTextarea",directives:{Intersect:je},inheritAttrs:!1,props:Le(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,f){let{attrs:c,emit:l,slots:e}=f;const a=de(t,"modelValue"),{isFocused:r,focus:n,blur:i}=Ee(t),o=U(()=>typeof t.counterValue=="function"?t.counterValue(a.value):(a.value||"").toString().length),s=U(()=>{if(c.maxlength)return c.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(m,y){var V,w;!t.autofocus||!m||(w=(V=y[0].target)==null?void 0:V.focus)==null||w.call(V)}const h=M(),v=M(),g=fe(""),p=M(),_=U(()=>t.persistentPlaceholder||r.value||t.active);function N(){var m;p.value!==document.activeElement&&((m=p.value)==null||m.focus()),r.value||n()}function ee(m){N(),l("click:control",m)}function te(m){l("mousedown:control",m)}function ae(m){m.stopPropagation(),N(),H(()=>{a.value="",Ve(t["onClick:clear"],m)})}function re(m){var V;const y=m.target;if(a.value=y.value,(V=t.modelModifiers)!=null&&V.trim){const w=[y.selectionStart,y.selectionEnd];H(()=>{y.selectionStart=w[0],y.selectionEnd=w[1]})}}const C=M(),T=M(+t.rows),z=U(()=>["plain","underlined"].includes(t.variant));me(()=>{t.autoGrow||(T.value=+t.rows)});function F(){t.autoGrow&&H(()=>{if(!C.value||!v.value)return;const m=getComputedStyle(C.value),y=getComputedStyle(v.value.$el),V=parseFloat(m.getPropertyValue("--v-field-padding-top"))+parseFloat(m.getPropertyValue("--v-input-padding-top"))+parseFloat(m.getPropertyValue("--v-field-padding-bottom")),w=C.value.scrollHeight,R=parseFloat(m.lineHeight),O=Math.max(parseFloat(t.rows)*R+V,parseFloat(y.getPropertyValue("--v-input-control-height"))),j=parseFloat(t.maxRows)*R+V||1/0,b=we(w??0,O,j);T.value=Math.floor((b-V)/R),g.value=ye(b)})}ve(F),A(a,F),A(()=>t.rows,F),A(()=>t.maxRows,F),A(()=>t.density,F);let k;return A(C,m=>{m?(k=new ResizeObserver(F),k.observe(C.value)):k==null||k.disconnect()}),he(()=>{k==null||k.disconnect()}),Ge(()=>{const m=!!(e.counter||t.counter||t.counterValue),y=!!(m||e.details),[V,w]=pe(c),[{modelValue:R,...O}]=Q.filterProps(t),[j]=Me(t);return u(Q,G({ref:h,modelValue:a.value,"onUpdate:modelValue":b=>a.value=b,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--plain-underlined":z.value},t.class],style:t.style},V,O,{centerAffix:T.value===1&&!z.value,focused:r.value}),{...e,default:b=>{let{isDisabled:E,isDirty:q,isReadonly:ne,isValid:oe}=b;return u(Ae,G({ref:v,style:{"--v-textarea-control-height":g.value},onClick:ee,onMousedown:te,"onClick:clear":ae,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},j,{active:_.value||q.value,centerAffix:T.value===1&&!z.value,dirty:q.value||t.dirty,disabled:E.value,focused:r.value,error:oe.value===!1}),{...e,default:le=>{let{props:{class:L,...Z}}=le;return u(I,null,[t.prefix&&u("span",{class:"v-text-field__prefix"},[t.prefix]),J(u("textarea",G({ref:p,class:L,value:a.value,onInput:re,autofocus:t.autofocus,readonly:ne.value,disabled:E.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:N,onBlur:i},Z,w),null),[[ge("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&J(u("textarea",{class:[L,"v-textarea__sizer"],id:`${Z.id}-sizer`,"onUpdate:modelValue":se=>a.value=se,ref:C,readonly:!0,"aria-hidden":"true"},null),[[xe,a.value]]),t.suffix&&u("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:y?b=>{var E;return u(I,null,[(E=e.details)==null?void 0:E.call(e,b),m&&u(I,null,[u("span",null,null),u(Se,{active:t.persistentCounter||r.value,value:o.value,max:s.value},e.counter)])])}:void 0})}),Ie({},h,v,p)}});function Je(t,f,c,l,e,a){return K(),W(I,null,[u(Te,{class:"px-3"},{default:x(()=>{var r;return[u(D,null,{default:x(()=>[u(P,null,{default:x(()=>{var n;return[u(S,{variant:"outlined",modelValue:e.name,"onUpdate:modelValue":f[0]||(f[0]=i=>e.name=i),clearable:"",label:"Nome do produto","error-messages":(n=e.errors)!=null&&n.name?[e.errors.name]:""},null,8,["modelValue","error-messages"])]}),_:1}),u(P,null,{default:x(()=>{var n;return[u(S,{modelValue:e.formula,"onUpdate:modelValue":f[1]||(f[1]=i=>e.formula=i),variant:"outlined",clearable:"",label:"Fórmula química","error-messages":(n=e.errors)!=null&&n.formula?[e.errors.formula]:""},null,8,["modelValue","error-messages"])]}),_:1})]),_:1}),u(D,null,{default:x(()=>[u(P,null,{default:x(()=>{var n;return[u(S,{modelValue:e.concentration,"onUpdate:modelValue":f[2]||(f[2]=i=>e.concentration=i),variant:"outlined",label:"Concentração",clearable:"","error-messages":(n=e.errors)!=null&&n.concentration?[e.errors.concentration]:""},null,8,["modelValue","error-messages"])]}),_:1}),u(P,null,{default:x(()=>{var n;return[u(S,{modelValue:e.weight,"onUpdate:modelValue":f[3]||(f[3]=i=>e.weight=i),variant:"outlined",clearable:"",label:"Peso molecular","error-messages":(n=e.errors)!=null&&n.weight?[e.errors.weight]:""},null,8,["modelValue","error-messages"])]}),_:1}),u(P,null,{default:x(()=>{var n;return[u(S,{modelValue:e.brand,"onUpdate:modelValue":f[4]||(f[4]=i=>e.brand=i),variant:"outlined",clearable:"",label:"Marca","error-messages":(n=e.errors)!=null&&n.brand?[e.errors.brand]:""},null,8,["modelValue","error-messages"])]}),_:1})]),_:1}),u(D,null,{default:x(()=>[u(P,null,{default:x(()=>{var n;return[u(ze,{modelValue:e.metric,"onUpdate:modelValue":f[5]||(f[5]=i=>e.metric=i),variant:"outlined",clearable:"",label:"Unidade de medidas",items:e.default_units,"error-messages":(n=e.errors)!=null&&n.metric?[e.errors.metric]:""},null,8,["modelValue","items","error-messages"])]}),_:1})]),_:1}),u(Ze,{modelValue:e.note,"onUpdate:modelValue":f[6]||(f[6]=n=>e.note=n),variant:"outlined",class:"mt-5",clearable:"",label:"Observações","error-messages":(r=e.errors)!=null&&r.note?[e.errors.note]:""},null,8,["modelValue","error-messages"]),u(He,{color:"primary",onClick:a.add},{default:x(()=>[B(" Prosseguir ")]),_:1},8,["onClick"])]}),_:1}),u(Oe,{modelValue:e.created,"onUpdate:modelValue":f[7]||(f[7]=r=>e.created=r),"multi-line":""},{default:x(()=>{var r;return[B(" O material "+ke((r=e.created)==null?void 0:r.name)+" acaba de ser adicionado no estoque ",1)]}),_:1},8,["modelValue"])],64)}const Qe=X(qe,[["render",Je]]),Xe={components:{MaterialForm:Qe},data(){return{items:[],total_count:0,page:1}},methods:{async refresh(){this.items=await $fetch("/api/materials",{method:"get",headers:{}})}},async mounted(){await this.refresh()}},Ke=Y("h6",{class:"text-h6"}," Indice de materiais ",-1),We={class:"mt-4"};function Ye(t,f,c,l,e,a){const r=be("material-form");return K(),W(I,null,[Ke,u(Re,{class:"mt-2 pb-3","max-width":"644"},{default:x(()=>[u(Ue,null,{default:x(()=>[B(" Adicionar entrada ")]),_:1}),u(Be,null,{default:x(()=>[B(" Para adicionar novos materiais informe as informações da nova remessa. ")]),_:1}),Y("div",We,[u(r)])]),_:1})],64)}const dt=X(Xe,[["render",Ye]]);export{dt as default};
